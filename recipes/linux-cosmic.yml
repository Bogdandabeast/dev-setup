# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json

# Informacion general de la imagen
name: cosmic
description: Imagen personalizada con escritorio COSMIC, Visual Studio Code y configuraci�n para gr�ficas AMD.

# Base de la imagen y versi0n
base-image: ghcr.io/ublue-os/cosmic-atomic-main
image-version: latest

# Configuracion de modulos
modules:
  - type: files
    files:
      - source: system
        destination: /

  - type: rpm-ostree
    repos:
      - https://pkg.cloudflareclient.com/cloudflare-warp-ascii.repo
      - vstudio.repo
      - https://copr.fedorainfracloud.org/coprs/che/zed/repo/fedora-42/che-zed-fedora-42.repo
    install:
      - cloudflare-warp
      - deluge
      - code
      - firefox
      - zed
      # Virt-manager y dependencias
      - virt-manager
      - libvirt-daemon-driver-network
      - libvirt-daemon-driver-nodedev 
      - libvirt-daemon-driver-qemu 
      - libvirt-daemon-driver-storage-core 
      - qemu-audio-spice 
      - qemu-char-spice 
      - qemu-device-display-qxl 
      - qemu-device-display-virtio-gpu 
      - qemu-device-display-virtio-vga 
      - qemu-device-usb-redirect
      - qemu-system-x86-core
      # CLI utilidades
      - fastfetch
      - fish
      - gh
      - bat

  #- type: script
  # source: local
  # path: install-cachyos-kernel.sh # Define el script externo para instalar el kernel CachyOS

  - type: default-flatpaks
    notify: true
    system:
      install:
        - com.valvesoftware.Steam
        - com.heroicgameslauncher.hgl
        - com.valvesoftware.Steam.CompatibilityTool.Proton-GE
        - org.gnome.Loupe
        - io.github.shiftey.Desktop
        - io.github.dvlv.boxbuddyrs
        - io.missioncenter.MissionCenter
        - com.mattjakeman.ExtensionManager
        - org.keepassxc.KeePassXC
        - ru.linux_gaming.PortProton
        - org.gnome.Boxes
    user: {}

  - type: signing




